---
displayed_sidebar: paymentReference
slug: /references/payment/getWebhookActionAndData
sidebar_label: getWebhookActionAndData
---

import { TypeList } from "docs-ui"

# getWebhookActionAndData - Payment Module Reference

This documentation provides a reference to the `getWebhookActionAndData` method. This belongs to the Payment Module.

<Note>

You should only use this methods when implementing complex customizations. For common cases, check out [available workflows instead](/medusa-workflows-reference).

</Note>

This method retrieves webhook event data with the associated payment provider.

Learn more about handling webhook events in [this guide](https://docs.medusajs.com/resources/commerce-modules/payment/webhook-events)

## Example

In the following example, `req` is an instance of `MedusaRequest`:

```ts
const dataAndAction = await paymentModuleService.getWebhookActionAndData({
  provider: "stripe",
  payload: {
    data: req.body,
    rawData: req.rawBody,
    headers: req.headers,
  },
})
```

## Parameters

<TypeList types={[{"name":"data","type":"[ProviderWebhookPayload](../../../interfaces/payment.ProviderWebhookPayload/page.mdx)","description":"The webhook event's details.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"provider","type":"`string`","description":"The ID of the provider to pass the webhook event payload to.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"payload","type":"`object`","description":"The webhook event payload passed to the specified provider.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"data","type":"`Record<string, unknown>`","description":"The parsed webhook body.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"rawData","type":"`string` \\| `Buffer`","description":"The raw webhook request body.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"headers","type":"`Record<string, unknown>`","description":"The headers of the webhook request.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getWebhookActionAndData"/>

## Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[WebhookActionResult](../../../interfaces/payment.WebhookActionResult/page.mdx)&#62;","optional":false,"defaultValue":"","description":"Resolves when the webhook event is handled successfully.","expandable":false,"children":[{"name":"WebhookActionResult","type":"[WebhookActionResult](../../../interfaces/payment.WebhookActionResult/page.mdx)","optional":false,"defaultValue":"","description":"The actions that the payment provider informs the Payment Module to perform.","expandable":false,"children":[{"name":"action","type":"[PaymentActions](../../../types/payment.PaymentActions/page.mdx)","description":"Normalized events from payment provider to internal payment module events.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"data","type":"[WebhookActionData](../../../interfaces/payment.WebhookActionData/page.mdx)","description":"The webhook action's details.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"session_id","type":"`string`","description":"The associated payment session's ID.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"amount","type":"[BigNumberValue](../../../types/payment.BigNumberValue/page.mdx)","description":"The amount to be captured or authorized (based on the action's type.)","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="getWebhookActionAndData"/>
